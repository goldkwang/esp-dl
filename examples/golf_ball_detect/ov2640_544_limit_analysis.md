# OV2640 544 픽셀 제한 분석 결과

## 현재 상황
- 544×400 ROI: 정상 작동
- 568×264 ROI: 화면 깨짐 또는 카메라 타임아웃

## 테스트 결과

### 1. TEST 레지스터 분석
- 544 픽셀: hsize = 136 (0x88), bit 2 = 0
- 568 픽셀: hsize = 142 (0x8E), bit 2 = 1

### 2. 시도한 방법들
1. **TEST 레지스터 미설정**: 카메라 타임아웃 발생
2. **TEST[7] = hsize[2] (ArduCAM 방식)**: 카메라 타임아웃 발생
3. **공식 드라이버 레지스터 설정**: 여전히 문제 발생

## 분석 결과

### 544 픽셀이 한계인 이유
1. **544 = 0x220 (9비트)**: 하지만 hsize는 136으로 8비트 내
2. **568 = 0x238**: hsize = 142, 특별한 경계값 아님
3. **차이점**: hsize의 하위 4비트가 0x8 vs 0xE

### 가능한 원인들
1. **OV2640 내부 하드웨어 제약**
   - Zoom 엔진의 처리 한계
   - 내부 FIFO 버퍼 크기 제한
   - 픽셀 클럭 타이밍 제약

2. **ESP32 카메라 드라이버 제약**
   - DMA 버퍼 정렬 문제
   - I2S 인터페이스 제한

3. **언급되지 않은 레지스터 설정**
   - 추가적인 타이밍 레지스터 필요
   - 클럭 분주기 설정 필요

## 권장사항
1. **544×400 ROI 사용 유지**
   - 안정적으로 작동하는 최대 크기
   - 충분한 해상도 제공

2. **대안**
   - 더 작은 ROI 여러 개로 분할
   - 후처리로 이미지 크롭
   - 다른 카메라 센서 고려 (OV5640 등)

## 추가 시도 가능한 방법
1. XCLK 주파수 조정 (현재 20MHz)
2. PCLK 분주기 설정 변경
3. 내부 PLL 설정 조정
4. DSP 스케일링 대신 센서 윈도잉 사용